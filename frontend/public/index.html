<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Tareas</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Estilos básicos para las funcionalidades añadidas */
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 300px;
            background: #2c3e50;
            color: white;
            padding: 20px;
        }
        
        .main-content {
            flex: 1;
            padding: 20px;
            background: #f5f7fa;
        }
        
        .profile-header {
            margin-bottom: 30px;
        }
        
        .profile-pic {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
        }
        
        .sidebar-card {
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .sidebar-card:hover {
            transform: translateY(-3px);
        }
        
        .card-green {
            background: #2ecc71;
        }
        
        .card-blue {
            background: #3498db;
        }
        
        .card-yellow {
            background: #f39c12;
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            width: 500px;
            max-width: 90%;
        }
        
        .input-container {
            margin-bottom: 15px;
        }
        
        .input-container label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .input-container input, 
        .input-container select, 
        .input-container textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .modal-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
        }
        
        .btn-cancel, .btn-confirm {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-left: 10px;
        }
        
        .btn-cancel {
            background: #e74c3c;
            color: white;
        }
        
        .btn-confirm {
            background: #2ecc71;
            color: white;
        }
        
        .task-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .task-table th, .task-table td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }
        
        .task-table th {
            background: #3498db;
            color: white;
        }
        
        .estado {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
        }
        
        .estado-pendiente {
            background: #f39c12;
            color: white;
        }
        
        .estado-en-progreso {
            background: #3498db;
            color: white;
        }
        
        .estado-completado {
            background: #2ecc71;
            color: white;
        }
        
        .cards {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            flex: 1;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .ver-mas-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
        }
        
        .calendar-view {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }
        
        .calendar-weekday {
            text-align: center;
            font-weight: bold;
            padding: 5px;
        }
        
        .calendar-day {
            height: 80px;
            border: 1px solid #ddd;
            padding: 5px;
            overflow: auto;
        }
        
        .calendar-day.empty {
            background: #f9f9f9;
        }
        
        .calendar-day.today {
            background: #e3f2fd;
        }
        
        .calendar-day.has-tasks {
            background: #fff8e1;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .btn {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-left: 10px;
        }
        
        .btn.green {
            background: #2ecc71;
            color: white;
        }
        
        .btn.purple {
            background: #9b59b6;
            color: white;
        }
        
        .toast-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #e74c3c;
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            animation: slideIn 0.3s, fadeOut 0.5s 2.5s forwards;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="sidebar">
            <div class="profile-header">
                <div class="profile-actions">
                    <span class="profile-link" id="logout-btn">Cerrar sesión</span>
                </div>
                <div class="profile-info">
                    <img class="profile-pic" id="profile-pic" src="/default-profile.png" alt="Profile">
                    <h2 class="user-name" id="user-name">Usuario</h2>
                    <p class="user-email" id="user-email">usuario@ejemplo.com</p>
                </div>
            </div>
            <div class="sidebar-card card-green" id="tareas-hoy-card">
                0 tareas para hoy
            </div>
            <div class="sidebar-card card-blue">Reunión con el equipo a las 10:00 AM</div>
            <div class="sidebar-card card-yellow" id="tareas-proximas-card">
                0 tareas próximas
            </div>
        </div>

        <div class="main-content">
            <div class="header">
                <div class="greeting-container">
                    <h1 class="greeting" id="greeting">¡Buenos días!</h1>
                    <p class="subtitle" id="subtitle">No tienes tareas para hoy</p>
                    <div class="action-buttons">
                        <button class="btn calendar-btn" id="toggle-calendar-btn">
                            <i class="icon-calendar"></i> Mostrar Calendario
                        </button>
                        <button class="btn completed-btn" id="toggle-completed-btn">
                            <i class="icon-check"></i> Mostrar Completadas
                        </button>
                    </div>
                </div>
                <div class="header-buttons">
                    <button class="btn green" id="new-task-btn">+ Nueva tarea</button>
                    <button class="btn purple" id="new-project-btn">+ Nuevo proyecto</button>
                </div>
            </div>

            <div class="toast-message" id="toast-message" style="display: none;"></div>

            <div class="calendar-view" id="calendar-view" style="display: none;">
                <div class="calendar-header">
                    <button id="prev-month-btn">&lt; Anterior</button>
                    <h2 id="calendar-month-year">ENERO 2023</h2>
                    <button id="next-month-btn">Siguiente &gt;</button>
                </div>
                <div class="calendar-grid" id="calendar-grid">
                    <!-- Se llenará dinámicamente con JavaScript -->
                </div>
            </div>

            <div class="cards" id="cards-view">
                <div class="card">
                    <div class="card-header">
                        <h3>Hoy</h3>
                        <button class="ver-mas-btn" id="ver-mas-hoy-btn" style="display: none;">...</button>
                    </div>
                    <ul id="tareas-hoy-list">
                        <li>No hay tareas para hoy</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Esta semana</h3>
                        <button class="ver-mas-btn" id="ver-mas-semana-btn" style="display: none;">...</button>
                    </div>
                    <ul id="tareas-semana-list">
                        <li>No hay tareas esta semana</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>En el mes</h3>
                        <button class="ver-mas-btn" id="ver-mas-mes-btn" style="display: none;">...</button>
                    </div>
                    <ul id="tareas-mes-list">
                        <li>No hay tareas este mes</li>
                    </ul>
                </div>
            </div>

            <table class="task-table" id="tasksTable">
                <thead>
                    <tr>
                        <th>Tarea</th>
                        <th>Proyecto</th>
                        <th>Responsable</th>
                        <th>Fecha de inicio</th>
                        <th>Fecha fin</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody id="tasksTableBody">
                    <!-- Se llenará dinámicamente con JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Modal Nueva Tarea -->
    <div class="modal" id="taskModal" style="display: none;">
        <div class="modal-content">
            <h2>Nueva tarea</h2>
            
            <div class="input-container">
                <label>Nombre de la tarea *</label>
                <input type="text" id="taskName" placeholder="Ej: Revisar diseño" required>
            </div>
            
            <div class="input-container">
                <label>Proyecto *</label>
                <select id="taskProject" class="form-control" required>
                    <option value="">Seleccione un proyecto</option>
                </select>
            </div>
            
            <div class="input-container">
                <label>Responsable *</label>
                <input type="text" id="taskResponsible" placeholder="Ej: María Gómez" required>
            </div>

            <div class="input-container">
                <label>Fecha de inicio *</label>
                <input type="date" id="taskStartDate" required>
            </div>

            <div class="input-container">
                <label>Fecha fin *</label>
                <select id="taskEndDateOption" class="form-control" required>
                    <option value="">Seleccione una opción</option>
                    <option value="hoy">Hoy</option>
                    <option value="3dias">3 días</option>
                    <option value="1semana">1 semana</option>
                    <option value="1mes">1 mes</option>
                    <option value="personalizado">Personalizado</option>
                </select>
            </div>

            <div class="input-container" id="custom-end-date-container" style="display: none;">
                <label>Seleccionar fecha específica *</label>
                <input type="date" id="taskCustomEndDate">
            </div>
            
            <div class="modal-actions">
                <button class="btn-cancel" id="cancelTaskBtn">Cancelar</button>
                <button class="btn-confirm" id="confirmTaskBtn">Agregar tarea</button>
            </div>
        </div>
    </div>

    <!-- Modal Nuevo Proyecto -->
    <div class="modal" id="project-modal" style="display: none;">
        <div class="modal-content">
            <h2>Agregar nuevo proyecto</h2>
            
            <div class="input-container">
                <label>Nombre del proyecto *</label>
                <input type="text" id="project-name" placeholder="Ej: Sitio web corporativo" required>
            </div>
            
            <div class="input-container">
                <label>Descripción *</label>
                <textarea id="project-description" placeholder="Detalles del proyecto" rows="4" required></textarea>
            </div>
            
            <div class="modal-actions">
                <button class="btn-cancel" id="cancel-project-btn">Cancelar</button>
                <button class="btn-confirm" id="confirm-project-btn">Crear proyecto</button>
            </div>
        </div>
    </div>

    <!-- Modal para tareas de hoy -->
    <div class="modal" id="today-tasks-modal" style="display: none;">
        <div class="modal-content">
            <h2>Tareas para hoy</h2>
            <table class="task-table">
                <thead>
                    <tr>
                        <th>Tarea</th>
                        <th>Proyecto</th>
                        <th>Responsable</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody id="today-tasks-modal-body">
                    <!-- Se llenará dinámicamente con JavaScript -->
                </tbody>
            </table>
            <button class="btn-close" id="close-today-modal-btn">Cerrar</button>
        </div>
    </div>

    <!-- Modal para tareas de esta semana -->
    <div class="modal" id="week-tasks-modal" style="display: none;">
        <div class="modal-content">
            <h2>Tareas para esta semana</h2>
            <table class="task-table">
                <thead>
                    <tr>
                        <th>Tarea</th>
                        <th>Proyecto</th>
                        <th>Responsable</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody id="week-tasks-modal-body">
                    <!-- Se llenará dinámicamente con JavaScript -->
                </tbody>
            </table>
            <button class="btn-close" id="close-week-modal-btn">Cerrar</button>
        </div>
    </div>

    <!-- Modal para tareas de este mes -->
    <div class="modal" id="month-tasks-modal" style="display: none;">
        <div class="modal-content">
            <h2>Tareas para este mes</h2>
            <table class="task-table">
                <thead>
                    <tr>
                        <th>Tarea</th>
                        <th>Proyecto</th>
                        <th>Responsable</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody id="month-tasks-modal-body">
                    <!-- Se llenará dinámicamente con JavaScript -->
                </tbody>
            </table>
            <button class="btn-close" id="close-month-modal-btn">Cerrar</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>